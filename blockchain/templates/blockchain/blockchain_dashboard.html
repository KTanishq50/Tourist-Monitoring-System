{% block title %}Blockchain Authority Dashboard{% endblock %}
{% block content %}
<div style="margin:0; font-family:Arial, sans-serif; background:#0d0d0d; color:#eae3e3; min-height:100vh; display:flex; flex-direction:column; align-items:center; padding:40px;">
    <h2 style="color:#00e676; margin-bottom:25px;">Blockchain â€” Tourist Registry (Authority)</h2>

    {% if error %}
      <div style="color:#ff5252; margin-bottom:20px; font-weight:bold;">Error reading chain: {{ error }}</div>
    {% endif %}

    {% if tourists %}
    <table style="border-collapse:collapse; width:95%; max-width:1100px; background:#111; box-shadow:0 6px 18px rgba(188, 199, 188, 0.1); border-radius:10px; overflow:hidden;">
        <tr style="background:#00e676; color:#170303; text-align:left;">
            <th style="padding:12px;">Tourist ID</th>
            <th style="padding:12px;">Name</th>
            <th style="padding:12px;">Aadhaar Hash</th>
            <th style="padding:12px;">Valid From</th>
            <th style="padding:12px;">Valid To</th>
            <th style="padding:12px;">Registered By</th>
            <th style="padding:12px;">Still Valid</th>
        </tr>
        {% for t in tourists %}
        <tr style="border-bottom:1px solid #0e0909;">
            <td style="padding:10px; color:white;">{{ t.touristId }}</td>
            <td style="padding:10px; color:white;">{{ t.name }}</td>
            <td style="padding:10px; color:#ebf3ec;">{{ t.aadhaarHash }}</td>
            <td style="padding:10px; color:white;">{{ t.validFrom }}</td>
            <td style="padding:10px; color:white;">{{ t.validTo }}</td>
            <td style="padding:10px; color:white;">{{ t.registeredBy }}</td>
            <td style="padding:10px; color:white;">{{ t.still_valid }}</td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
      <p style="color:#bbb; margin-top:20px;">No tourists on chain yet.</p>
    {% endif %}
</div>
{% endblock %}
